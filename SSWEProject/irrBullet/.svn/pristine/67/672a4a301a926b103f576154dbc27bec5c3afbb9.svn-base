#ifndef __COLLISION_OBJECT_H_INCLUDED__
#define __COLLISION_OBJECT_H_INCLUDED__

#include "common.h"
#include "collisionshape.h"

enum EActivationState
{
    EAS_ACTIVE = 1,
    EAS_SLEEPING = 2,
    EAS_WANTS_DEACTIVATION = 3,
    EAS_DISABLE_DEACTIVATION = 4,
    EAS_DISABLE_SIMULATION = 5
};


class ICollisionObject
{
    public:
        ICollisionObject();

        ~ICollisionObject();


        //////////////////////////
        // The 'dos' and 'sets' //
        //////////////////////////
        void setCollisionShape(ICollisionShape* const shape);

        void setCcdValues(const irr::f32 mt, const irr::f32 r);

        void autoCalculateCcdValues();

        void setAnisotropicFriction(const irr::core::vector3df &friction);

        void setContactProcessingThreshold(irr::f32 cpt);

        void setActivationState(EActivationState newState);

        void forceActivationState(EActivationState newState);

        void activate(bool forceActivation=false);

        void setRestitution(irr::f32 rest);

        void setFriction(irr::f32 frict);

        void setInterpolationLinearVelocity(const irr::core::vector3df &linvel);

        void setInterpolationAngularVelocity(const irr::core::vector3df &angvel);

        void setIslandTag(irr::u32 tag);

        void setCompanionId(irr::u32 id);

        void setHitFraction(irr::f32 hitFraction);

        void setCollisionFlags(ECollisionFlag flags);




        ///////////////////
        // The 'getters' //
        ///////////////////
        btCollisionObject *getPointer() const;

        ICollisionShape *getCollisionShape() const;

        bool mergesSimulationIslands() const;

        irr::core::vector3df getAnisotropicFriction() const;

        bool hasAnisotropicFriction() const;

        irr::f64 getContactProcessingThreshold() const;

        bool isStaticObject() const {return object->isStaticObject();};
        bool isKinematicObject() const {return object->isKinematicObject();};
        bool isStaticOrKinematicObject() const {return object->isStaticOrKinematicObject();};
        bool hasContactResponse() const;

        EActivationState getActivationState() const;

        bool isActive() const;

        irr::f64 getRestitution() const;

        irr::f64 getFriction() const;

        irr::core::vector3df getInterpolationLinearVelocity() const;

        irr::core::vector3df getInterpolationAngularVelocity() const;

        irr::u32 getIslandTag() const;

        irr::u32 getCompanionId() const;

        irr::f64 getHitFraction() const;

        ECollisionFlag getCollisionFlags() const;



    protected:
        ICollisionShape *shape;
        btCollisionObject *object;
        irr::scene::ISceneNode *node;
};

#endif // __COLLISION_OBJECT_H_INCLUDED__
